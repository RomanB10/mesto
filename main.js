(()=>{"use strict";var e={874:(e,t,n)=>{e.exports=n.p+"9b797d63dc3f90c5f676.png"},96:(e,t,n)=>{e.exports=n.p+"06f72e762eb2bcad6421.jpg"},821:(e,t,n)=>{e.exports=n.p+"aae73e570df8ee36bbc7.jpg"},298:(e,t,n)=>{e.exports=n.p+"79df584bb33a87d14542.jpg"},190:(e,t,n)=>{e.exports=n.p+"aeed29cd3a76ba675234.jpg"},35:(e,t,n)=>{e.exports=n.p+"a73c87b787d8a96189fc.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="",n.b=document.baseURI||self.location.href,(()=>{function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){function n(e,r){var o=this,i=e.data,a=e.handleOpenPopup;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t(this,"_handleClickLike",(function(e){e.target.classList.toggle("rectangle__button_active")})),t(this,"_handleClickTrash",(function(){o._view.remove()})),this._selectors=r,this._name=i.name,this._link=i.link,this._handleOpenPopup=a,this._data=i}var r,o;return r=n,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._selectors.template).content.querySelector(this._selectors.rectangle).cloneNode(!0)}},{key:"generateCard",value:function(){return this._view=this._getTemplate(),this._cardImage=this._view.querySelector(this._selectors.image),this._text=this._view.querySelector(this._selectors.text),this._buttonLike=this._view.querySelector(this._selectors.buttonLike),this._buttonTrash=this._view.querySelector(this._selectors.buttonTrash),this._textAlt="Здесь должно быть изображение '".concat(this._name,"'"),this._cardImage.src=this._link,this._text.textContent=this._name,this._cardImage.alt=this._textAlt,this._setEventListeners(),this._view}},{key:"_setEventListeners",value:function(){var e=this;this._buttonLike.addEventListener("click",this._handleClickLike),this._buttonTrash.addEventListener("click",this._handleClickTrash),this._cardImage.addEventListener("click",(function(){e._handleOpenPopup(e._data)}))}}])&&e(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._selectors=t,this._submitButton=this._form.querySelector(this._selectors.submitButtonSelector),this._inputList=Array.from(this._form.querySelectorAll(this._selectors.inputSelector))}var t,n;return t=e,(n=[{key:"_showInputError",value:function(e,t){var n=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(this._selectors.inputErrorClass),n.classList.add(this._selectors.errorClass),n.textContent=t}},{key:"_hideInputError",value:function(e){var t=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._selectors.inputErrorClass),t.classList.remove(this._selectors.errorClass),t.textContent=""}},{key:"_checkFieldIsValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"resetFields",value:function(){var e=this;this._inputList.forEach((function(t){e._hideInputError(t)}))}},{key:"disableButton",value:function(){this._submitButton.setAttribute("disabled","disabled"),this._submitButton.classList.add(this._selectors.inactiveButtonClass)}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.disableButton():(this._submitButton.removeAttribute("disabled"),this._submitButton.classList.remove(this._selectors.inactiveButtonClass))}},{key:"_setEventListeners",value:function(){var e=this;this._inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkFieldIsValid(t),e._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._container=n,this._renderer=o}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"prependItem",value:function(e){this._container.prepend(e)}},{key:"renderItems",value:function(){var e=this;this._initialArray.forEach((function(t){e._renderer(t)}))}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n,r,o=this,i=t.popupSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){"Escape"===e.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popup=document.querySelector(i)}var t,n;return t=e,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var e=this;this._popup.addEventListener("mousedown",(function(t){(t.target===t.currentTarget||t.target.classList.contains("popup__close-btn"))&&e.close()}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=h(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},f.apply(this,arguments)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function d(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=y(r);if(o){var n=y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return d(this,e)});function a(e,t){var n,r=e.popupSelector,o=e.handleSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,{popupSelector:r}))._handleSubmit=o,n._form=t,n._inputList=n._form.querySelectorAll(".popup__input"),n}return t=a,(n=[{key:"_getInputValues",value:function(){var e=this;return this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setInputValues",value:function(e){this._inputList.forEach((function(t){t.value=e[t.name]}))}},{key:"setEventListeners",value:function(){var e=this;f(y(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(t){t.preventDefault(t),e._handleSubmit(e._getInputValues()),e.close()}))}},{key:"close",value:function(){f(y(a.prototype),"close",this).call(this),this._form.reset()}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=w(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},g.apply(this,arguments)}function w(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function O(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(a,e);var t,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=S(r);if(o){var n=S(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return O(this,e)});function a(e){var t,n=e.popupSelector;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,{popupSelector:n}))._placeImage=t._popup.querySelector(".popup__image-place"),t._placeCaption=t._popup.querySelector(".popup__caption"),t}return t=a,(n=[{key:"open",value:function(e){g(S(a.prototype),"open",this).call(this),this._placeCaption.textContent=e.name,this._placeImage.src=e.link,this._placeImage.alt="Здесь должно быть изображение'".concat(e.name,"'")}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(c);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t){var n=t.userName,r=t.userDescription;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userName=n,this._userDescription=r}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,job:this._userDescription.textContent}}},{key:"setUserInfo",value:function(e){this._userName.textContent=e.name,this._userDescription.textContent=e.job}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._url=t.url,this._headers=t.headers}var t,n;return t=e,(n=[{key:"getAllCards",value:function(){return fetch("".concat(this._url,"/v1/cohort-51/cards"),{headers:this._headers}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},{key:"getInfoUser",value:function(){return fetch("".concat(this._url,"/v1/cohort-51/users/me"),{headers:this._headers}).then((function(e){return e.json()})).then((function(e){console.log(e)}))}}])&&P(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),I=new URL(n(821),n.b),x=new URL(n(874),n.b),R=new URL(n(35),n.b),q=new URL(n(298),n.b),T=new URL(n(96),n.b),B=new URL(n(190),n.b),U={template:"#rectangle-template",rectangle:".rectangle",image:".rectangle__image",text:".rectangle__text",buttonLike:".rectangle__button",buttonTrash:".rectangle__button-trash",profilePopup:".popup_type_edit-profile",cardPopup:".popup_type_add-card",imagePopup:".popup_type_open-image"},V={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-btn",inactiveButtonClass:"popup__submit-btn_inactive",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_active",inputSpan:".popup__input-error"},A=document.querySelector(".photo-grid"),D=document.querySelector(U.profilePopup).querySelector(".popup__form"),N=document.querySelector(U.cardPopup).querySelector(".popup__form"),F=document.querySelector(".profile__title"),z=document.querySelector(".profile__subtitle"),M=document.querySelector(".profile__edit-btn"),G=document.querySelector(".profile__add-btn"),H=[{name:"Карачаево-Черкесская Республика",link:I},{name:"Ай петри",link:x},{name:"Щвейцария",link:R},{name:"Гаваи",link:q},{name:"Великая китайская стена",link:T},{name:"Фудзи",link:B}],J=new C({url:"https://mesto.nomoreparties.co",headers:{"content-type":"aplication/json",authorization:"d90e3811-ba6b-4a7f-96a8-92745ac1e8db"}});J.getAllCards(),J.getInfoUser();var K=new j({popupSelector:U.imagePopup});function Q(e){var t=new r({data:e,handleOpenPopup:function(e){K.open(e)}},U);return t.generateCard()}K.setEventListeners();var W=new u({items:H,renderer:function(e){var t=Q(e);W.addItem(t)}},A);W.renderItems();var X=new i(V,D);X.enableValidation();var Y=new i(V,N);Y.enableValidation();var Z=new L({userName:F,userDescription:z}),$=new b({popupSelector:U.profilePopup,handleSubmit:function(e){Z.setUserInfo(e)}},D);$.setEventListeners();var ee=new b({popupSelector:U.cardPopup,handleSubmit:function(e){var t=Q({link:e["place-image"],name:e["place-name"]});W.prependItem(t)}},N);ee.setEventListeners(),M.addEventListener("click",(function(){$.open(),$.setInputValues(Z.getUserInfo()),X.resetFields()})),G.addEventListener("click",(function(){ee.open(),Y.disableButton(),Y.resetFields()}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxpQkFBaUIsU0FBUyxXQUN6QzBILEdBQXFCYixPQUNyQlMsRUFBcUJ2RixnQkFDckJ1RixFQUFxQlEsYUFDdEIsRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YXRudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQxNzk6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlT3BlblBvcHVwIH0sIHNlbGVjdG9ycykge1xuICAgIHRoaXMuX3NlbGVjdG9ycyA9IHNlbGVjdG9ycztcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faGFuZGxlT3BlblBvcHVwID0gaGFuZGxlT3BlblBvcHVwO1xuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xuICB9XG4gIC8v0J/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQg0L/QvtC70YPRh9C10L3QuNGPINGI0LDQsdC70L7QvdCwXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcnMudGVtcGxhdGUpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9ycy5yZWN0YW5nbGUpXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG4gIC8v0J/Rg9Cx0LvQuNGH0L3Ri9C5INC80LXRgtC+0LQg0YHQvtC30LTQsNC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0Ysg0YEg0LzQtdGB0YLQvtC8XG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl92aWV3ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl92aWV3LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc2VsZWN0b3JzLmltYWdlKTtcbiAgICB0aGlzLl90ZXh0ID0gdGhpcy5fdmlldy5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9ycy50ZXh0KTtcbiAgICB0aGlzLl9idXR0b25MaWtlID0gdGhpcy5fdmlldy5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9ycy5idXR0b25MaWtlKTtcbiAgICB0aGlzLl9idXR0b25UcmFzaCA9IHRoaXMuX3ZpZXcucXVlcnlTZWxlY3Rvcih0aGlzLl9zZWxlY3RvcnMuYnV0dG9uVHJhc2gpO1xuICAgIHRoaXMuX3RleHRBbHQgPSBg0JfQtNC10YHRjCDQtNC+0LvQttC90L4g0LHRi9GC0Ywg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSAnJHt0aGlzLl9uYW1lfSdgO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX3RleHQudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl90ZXh0QWx0O1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXc7XG4gIH1cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8v0L7RgtGA0LDQsdC+0YLQutCwINC70LDQudC60LAg0L/RgNC4INC60LvQuNC60LVcbiAgICB0aGlzLl9idXR0b25MaWtlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja0xpa2UpO1xuICAgIC8v0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INC/0YDQuCDQutC70LjQutC1INC90LAg0LrQvtGA0LfQuNC90YNcbiAgICB0aGlzLl9idXR0b25UcmFzaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tUcmFzaCk7XG4gICAgLy/QvtGC0LrRgNGL0YLQuNC1INC/0L7Qv9Cw0L/QsCDQv9GA0Lgg0LrQu9C40LrQtSDQvdCwINC40LfQvtCx0YDQsNC20LXQvdC40LVcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZU9wZW5Qb3B1cCh0aGlzLl9kYXRhKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8v0J/RgNC40LLQsNGC0L3Ri9C5INC80LXRgtC+0LQgbGlrZVxuICBfaGFuZGxlQ2xpY2tMaWtlID0gKGV2dCkgPT4ge1xuICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZShcInJlY3RhbmdsZV9fYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfTtcbiAgLy/Qn9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCBUcmFzaFxuICBfaGFuZGxlQ2xpY2tUcmFzaCA9ICgpID0+IHtcbiAgICB0aGlzLl92aWV3LnJlbW92ZSgpO1xuICB9O1xufVxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3RvcihzZWxlY3RvcnMsIGZvcm0pIHtcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcbiAgICB0aGlzLl9zZWxlY3RvcnMgPSBzZWxlY3RvcnM7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKHRoaXMuX3NlbGVjdG9ycy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2VsZWN0b3JzLmlucHV0U2VsZWN0b3IpKTtcbiAgfVxuXG4gIC8v0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC00L7QsdCw0LLQu9GP0LXRgiDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGVycm9yTWVzc2FnZSkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NlbGVjdG9ycy5pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX3NlbGVjdG9ycy5lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XG4gIH1cblxuICAvL9GE0YPQvdC60YbQuNGPLCDQutC+0YLQvtGA0LDRjyDRg9C00LDQu9GP0LXRgiDQutC70LDRgdGBINGBINC+0YjQuNCx0LrQvtC5XG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZWxlY3RvcnMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZWxlY3RvcnMuZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcbiAgfVxuXG4gIC8v0YTRg9C90LrRhtC40Y8sINC60L7RgtC+0YDQsNGPINC/0YDQvtCy0LXRgNGP0LXRgiDQstCw0LvQuNC00L3QvtGB0YLRjCDQvtC00L3QvtCz0L4g0L/QvtC70Y9cbiAgX2NoZWNrRmllbGRJc1ZhbGlkKGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgLy/RhNGD0L3QutGG0LjRjyDQv9GA0L7QstC10YDQutC4INC90LDQu9C40YfQuNGPINC90LXQstCw0LvQuNC00L3QvtCz0L4g0L/QvtC70Y9cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICAvL9C/0YDQvtGF0L7QtNC40Lwg0L/QviDQvNCw0YHRgdC40LLRgyDQvNC10YLQvtC00L7QvCBzb21lXG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIC8v0LXRgdC70Lgg0L/QvtC70LUg0L3QtSDQstCw0LvQuNC00L3Qviwg0LrQvtC70LHRjdC6INCy0LXRgNC90LnRgiB0cnVlXG4gICAgICAvL9Ce0LHRhdC+0LQg0LzQsNGB0YHQuNCy0LAg0L/RgNC10LrRgNCw0YLQuNGC0YHRjyDQuCDQstGB0Y8g0YTRg9C90LrRhtC40Y9cbiAgICAgIC8vaGFzSW52YWxpZElucHV0INCy0LXRgNC90LXRgiB0cnVlXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcbiAgICB9KTtcbiAgfVxuXG4gIC8v0J7Rh9C40YHRgtC60LAg0L/QvtC70LXQuSDQvtGCINC+0YjQuNCx0L7QulxuICByZXNldEZpZWxkcygpIHtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXQpXG4gICAgfSk7XG4gIH1cblxuICBkaXNhYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcImRpc2FibGVkXCIpOyAvL9C+0YLQutC70Y7Rh9C10L3QuNC1INC60L3QvtC/0LrQuFxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX3NlbGVjdG9ycy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTsgLy8g0LTQvtCx0LDQstC70LXQvdC40LUg0LrQu9Cw0YHRgdCwINC+0YLQutC70Y7Rh9C10L3QvdC+0Lkg0LrQvdC+0L/QutC4Ki9cbiAgfVxuICAvL9GE0YPQvdC60YbQuNGPINCy0LrQuy/QstGL0LrQuyDQv9GA0Lgg0LLQsNC70LjQtNC90L7QuS/QvdC10LLQsNC70LjQtNC90L7QuSDRhNC+0YDQvNC1XG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUJ1dHRvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7IC8v0L7RgtC60LvRjtGH0LXQvdC40LUg0LrQvdC+0L/QutC4XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZWxlY3RvcnMuaW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgfVxuICB9XG5cbiAgLy/RhNGD0L3QutGG0LjRjyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0LLRgdC10Lwg0L/QvtC70Y/QvCDRhNC+0YDQvNGLXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICAvL9Ce0LHQvtC50LTQtdC8INCy0YHQtSDRjdC70LXQvNC10L3RgtGLINC60L7Qu9C70LXQutGG0LjQuFxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIC8v0LrQsNC20LTQvtC80YMg0L/QvtC70Y4g0LTQvtCx0LDQstC40Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8gaW5wdXRcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0ZpZWxkSXNWYWxpZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICAvL9Cy0YvQt9C+0LLQtdC8IHRvZ2dsZUJ1dHRvblN0YXRlXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8v0YTRg9C90LrRhtC40Y8g0LLQsNC70LjQtNCw0YbQuNC4LCDQvdCw0YXQvtC00LjRgiDQuCDQv9C10YDQtdCx0LjRgNCw0LXRgiDQstGB0LUg0YTQvtGA0LzRi1xuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7IC8v0LzQsNGB0YHQuNCyINC00LDQvdC90YvRhSDQutCw0YDRgtC+0YfQutC4XG4gICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyOyAvL9C80LXRgdGC0L4g0LrRg9C00LAg0LHRg9C00LXQvCDQstGB0YLQsNCy0LvRj9GC0Ywg0LrQvtC90YLQtdC50L3QtdGALCDQsiAnLnBob3RvR3JpZCdcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyOyAvL9GE0YPQvdC60YbQuNGPINC+0YLRgNC40YHQvtCy0LrQuCDQvtC00L3QvtCz0L4g0Y3Qu9C10LzQtdC90YLQsC3QutCw0YDRgtC+0YfQutC4XG4gIH1cbiAgLy/QvNC10YLQvtC00Ysg0LTQvtCx0LDQstC70LXQvdC40Y8g0LXQu9C10LzQtdC90YLQsC3QutCw0YDRgtGLINCyINC60L7QvdGC0LXQudC90LXRgFxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xuICB9XG4gIHByZXBlbmRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuICAvL9C80LXQuNC+0LQg0L7RgtGA0LjRgdC+0LLQutC4INC80LDRgdGB0LjQstCwINC60LDRgNGC0L7Rh9C10LpcbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5LmZvckVhY2goKGRhdGEpID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGRhdGEpO1xuICAgIH0pO1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTsvL3NlbGVjdG9yINCe0LHQvtC30L3QsNGH0LDQtdGCINGB0YLRgNC+0LrRgywg0L/QviDQutC+0YIuINC80L7QttC90L4g0L3QsNC50YLQuCDRjdC70LXQvNC10L3RgiDQsiBET01cbiAgfVxuXG4gIC8v0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsCDQv9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCBcIkVzY2FwZVwiXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbiAgLy/QvNC10YLQvtC0INC+0YLQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9CwXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcInBvcHVwX29wZW5lZFwiKTsgLy/QtNC+0LHQsNCy0LvRj9C10LwgZGlzcGxheTogYmxvY2s7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG4gIC8v0LzQtdGC0L7QtCDQt9Cw0LrRgNGL0YLQuNGPINC/0L7Qv9Cw0L/QsFxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicG9wdXBfb3BlbmVkXCIpOyAvL9GD0LHQuNGA0LDQtdC8IGRpc3BsYXk6IGJsb2NrLCDQv9C+INGD0LzQvtC70YfQsNC90LjRjiBub25lO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIC8v0LzQtdGC0L7QtCDQtNC+0LHQsNCy0LvQtdC90LjRjyDRgdC70YPRiNCw0YLQtdC70Y8g0L/RgNC4INC60LvQuNC60LUg0L3QsCDQt9Cw0YLQtdC80L3QtdC90L3Rg9GOINC+0LHQu9Cw0YHRgtGMINC4INC90LAg0LjQutC+0L3QutGDINC30LDQutGA0YvRgtC40Y9cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0IHx8IC8vINC30LDQutGA0YvRgtC40LUg0L/QviDRgdC+0LLQv9Cw0LTQtdC90LjRjiDQv9C+0L/QsNC/0LAg0Lgg0LrQu9C40LrQsFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZS1idG5cIikgLy8g0LXQu9GB0Lgg0LrQu9C40Log0YHQvtCy0L/QsNC00LDQtdGCINGBINGN0LvQtdC80LXQvdGC0L7QvCDQutC90L7Qv9C60Lgg0LfQsNC60YDRi9GC0LjRj1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0IH0sIGZvcm0pIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xuICAgIHRoaXMuX2Zvcm0gPSBmb3JtO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cF9faW5wdXRcIik7Ly8g0LTQvtGB0YLQsNGR0Lwg0LLRgdC1INGN0LvQtdC80LXQvdGC0Ysg0L/QvtC70LXQuVxuICB9XG5cbiAgLy/Qv9GA0LjQstCw0YLQvdGL0Lkg0LzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICAvLyDRgdC+0LfQtNCw0ZHQvCDQv9GD0YHRgtC+0Lkg0L7QsdGK0LXQutGCXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIC8vINC00L7QsdCw0LLQu9GP0LXQvCDQsiDRjdGC0L7RgiDQvtCx0YrQtdC60YIg0LfQvdCw0YfQtdC90LjRjyDQstGB0LXRhSDQv9C+0LvQtdC5XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgLy8g0LLQvtC30LLRgNCw0YnQsNC10Lwg0L7QsdGK0LXQutGCINC30L3QsNGH0LXQvdC40Lkg0YHQviDQt9C90LDRh9C10L3QuNGP0LzQuCDQv9C+0LvQtdC5IGlucHV0XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICAvL9C/0YDQuNCy0LDRgtC90YvQuSDQvNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQv9C+0LTRgdGC0LDQstC70Y/QtdGCINCyINC30L3QsNGH0LXQvdC40Y8g0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLINC/0YDQuNGF0L7QtNGP0YnQuNC5INC+0LHRitC10LrRglxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07IC8v0LfQsNC90L7RgdC40Lwg0LTRi9C90L3Ri9C1INGC0LXQutGB0YLQsCDQuNC3INC/0YDQvtGE0LDQudC70LAg0LIg0L/QvtC70LUg0LLQstC+0LTQsCwg0LjRgdC/0L7Qu9GM0LfRg9GPINC+0LHRitC10LrRgiBkYXRhXG4gICAgfSk7XG4gIH1cblxuICAvL9C/0LXRgNC10LfQsNC/0LjRgdGL0LLQsNC10LzRi9C5INC80LXRgtC+0LQg0LrQu9Cw0YHRgdCwIFBvcHVwXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8v0L3QsNGB0LvQtdC00L7QstCw0L3QuNC1INC80LXRgtC+0LTQsCDQuNC3INGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC60LvQsNGB0YHQsFxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICAvL9C00L7QsdCw0LLQu9GP0LXQvCDQvtCx0YDQsNCx0L7Rh9C40Log0YHQsNCx0LzQuNGC0LBcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdChldnQpOyAvLyDQrdGC0LAg0YHRgtGA0L7Rh9C60LAg0L7RgtC80LXQvdGP0LXRgiDRgdGC0LDQvdC00LDRgNGC0L3Rg9GOINC+0YLQv9GA0LDQstC60YMg0YTQvtGA0LzRiy5cbiAgICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTsgLy8g0L/QtdGA0LXQtNCw0LXQvCDRgdCw0LHQvNC40YLRgyDQvtCx0YrQtdC60YIg0L/QvtC70LXQuSwg0YfRgtC+0LHRiyDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LIg0LrQvtC70LHRjdC60LVcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8v0L/QtdGA0LXQt9Cw0L/QuNGB0YvQstCw0LXQvNGL0Lkg0LzQtdGC0L7QtCDQutC70LDRgdGB0LAgUG9wdXBcbiAgY2xvc2UoKSB7XG4gICAgc3VwZXIuY2xvc2UoKTsgLy/QvdCw0YHQu9C10LTQvtCy0LDQvdC40LUg0LzQtdGC0L7QtNCwINC40Lcg0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQu9Cw0YHRgdCwXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpOyAvL9C+0YfQuNGB0YLQutCwINGE0L7RgNC80Ysg0L7RgiDQstCy0LXQtNC10L3QvdGL0YUg0LTQsNC90L3Ri9GFXG4gIH1cbn1cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjsgLy8g0LLRi9C/0L7Qu9C90LjQu9C4INC/0YDQuNCy0Y/Qt9C60YMg0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LrQu9Cw0YHRgdCwIFBvcHVwXG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5fcGxhY2VJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2ltYWdlLXBsYWNlXCIpOyAvL9C40LfQvtCx0YDQsNC20LXQvdC40LUg0LzQtdGB0YLQsFxuICAgIHRoaXMuX3BsYWNlQ2FwdGlvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXBfX2NhcHRpb25cIik7IC8v0L/QvtC00L/QuNGB0Ywg0Log0LjQt9C+0LHRgNCw0LbQtdC90LjRjiDQvNC10YHRgtCwXG4gIH1cbiAgLy/Qv9C10YDQtdC30LDQv9C40YHRi9Cy0LDQtdC80YvQuSDQvNC10YLQvtC0INC60LvQsNGB0YHQsCBQb3B1cFxuICBvcGVuKGRhdGEpIHtcbiAgICBzdXBlci5vcGVuKCk7IC8v0L3QsNGB0LvQtdC00L7QstCw0L3QuNC1INC80LXRgtC+0LTQsCDQuNC3INGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INC60LvQsNGB0YHQsFxuICAgIHRoaXMuX3BsYWNlQ2FwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9wbGFjZUltYWdlLnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9wbGFjZUltYWdlLmFsdCA9IGDQl9C00LXRgdGMINC00L7Qu9C20L3QviDQsdGL0YLRjCDQuNC30L7QsdGA0LDQttC10L3QuNC1JyR7ZGF0YS5uYW1lfSdgO1xuICB9XG59XG4iLCIvL9GD0L/RgNCw0LLQu9C10L3QuNC1INC+0YLQvtCx0YDQsNC20LXQvdC40LXQvCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDQv9C+0LvRjNC30L7QstCw0YLQtdC70LUg0L3QsCDRgdGC0YDQsNC90LjRhtC1XG5leHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IHVzZXJOYW1lLCB1c2VyRGVzY3JpcHRpb24gfSkge1xuICAgIHRoaXMuX3VzZXJOYW1lID0gdXNlck5hbWU7XG4gICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uID0gdXNlckRlc2NyaXB0aW9uO1xuICB9XG5cbiAgLy/QvNC10YLQvtC0INCy0L7Qt9Cy0YDQsNGJ0LDQtdGCINC+0LHRitC10LrRgiDRgSDQtNCw0L3QvdGL0LzQuCDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y9cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgY29uc3Qgb2JqID0ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX3VzZXJEZXNjcmlwdGlvbi50ZXh0Q29udGVudCxcbiAgICB9O1xuICAgIHJldHVybiBvYmo7IC8v0LLQvtC30LLRgNCw0YnQsNC10YIg0YLQtdC60YPRidC10LUg0LfQvdCw0YfQtdC90LjRjyB0ZXh0Q29udGVudCDRjdC70LXQvNC10L3RgtC+0LIg0LjQtyDQutC70LDRgdGB0LAg0LIg0LLQuNC00LUg0L7QsdGK0LXQutGC0LBcbiAgfVxuXG4gIC8v0LzQtdGC0L7QtCDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC00L7QsdCw0LLQu9GP0LXRgiDQuNGFINC90LAg0YHRgtGA0LDQvdC40YbRgy5cbiAgc2V0VXNlckluZm8oZGF0YSkge1xuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX3VzZXJEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGRhdGEuam9iO1xuICAgIC8v0L/QvtC70YPRh9Cw0LXRgiDQvtCx0YrQtdC60YIg0YEg0LrQu9GO0YfQsNC80Lgg0Lgg0YHRgtGA0L7QutC+0LLRi9C80Lgg0LfQvdCw0YfQtdC90LjRj9C80Lgg0Lgg0YPRgdGC0LDQvdCw0LLQu9C40LLQsNC10YIg0LjRhSDQsiDRgNCw0LfQvNC10YLQutGDXG4gIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBBcGl7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZyl7XG4gICAgdGhpcy5fdXJsID0gY29uZmlnLnVybDtcbiAgICB0aGlzLl9oZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gIH1cbi8v0JfQsNCz0YDRg9C30LrQsCDQutCw0YDRgtC+0YfQtdC6INGBINGB0LXRgNCy0LXRgNCwXG5nZXRBbGxDYXJkcygpe1xuICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS92MS9jb2hvcnQtNTEvY2FyZHNgLCB7XG4gICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsgcmV0dXJuIHJlc3BvbnNlLmpzb24oKX0pXG4gICAgLnRoZW4oZnVuY3Rpb24oZGF0YSl7Y29uc29sZS5sb2coZGF0YSl9KVxuICB9XG4vL9CX0LDQs9GA0YPQt9C60LAg0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1INGBINGB0LXRgNCy0LXRgNCwXG4gIGdldEluZm9Vc2VyKCl7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vdjEvY29ob3J0LTUxL3VzZXJzL21lYCwge1xuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7IHJldHVybiByZXNwb25zZS5qc29uKCl9KVxuICAgICAgLnRoZW4oZnVuY3Rpb24oZGF0YSl7Y29uc29sZS5sb2coZGF0YSl9KVxuICAgIH1cbn1cblxuXG4iLCJleHBvcnQgY29uc3Qga2FyYWNoYXlDaGVya2Vzc2lhSW1hZ2UgPSBuZXcgVVJMKFxuICBcIi4uL2ltYWdlcy9LYXJhY2hheUNoZXJrZXNzaWEuanBnXCIsXG4gIGltcG9ydC5tZXRhLnVybFxuKTtcbmV4cG9ydCBjb25zdCBheVBldHJpSW1hZ2UgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL0F5UGV0cmkucG5nXCIsIGltcG9ydC5tZXRhLnVybCk7XG5leHBvcnQgY29uc3Qgc3dpdHplcmxhbmRJbWFnZSA9IG5ldyBVUkwoXG4gIFwiLi4vaW1hZ2VzL1plcm1hdHRTd2l0emVybGFuZC5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuZXhwb3J0IGNvbnN0IGhhd2FpSW1hZ2UgPSBuZXcgVVJMKFxuICBcIi4uL2ltYWdlcy9LYXVhaUhhd2FpaVVTQS5qcGdcIixcbiAgaW1wb3J0Lm1ldGEudXJsXG4pO1xuZXhwb3J0IGNvbnN0IGNoaW5hSW1hZ2UgPSBuZXcgVVJMKFwiLi4vaW1hZ2VzL0NoaW5hLmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xuZXhwb3J0IGNvbnN0IGZ1amlJbWFnZSA9IG5ldyBVUkwoXCIuLi9pbWFnZXMvTW91bnRGdWppLmpwZ1wiLCBpbXBvcnQubWV0YS51cmwpO1xuXG4vL9C30LDQv9C40YHRi9Cy0LDQtdC8INC60LvQsNGB0YHRiyDQsiDQutC+0L3RgdGC0LDQvdGC0YMg0LfQtNC10YHRjCwg0YfRgtC+0LHRiyDRgNCw0LHQvtGC0LDRgtGMINC90LUg0YEg0LrQu9Cw0YHRgdCw0LzQuCBIVE1MINC00L7QutGD0LzQtdC90YLQsCAsINCwINCyIEpTXG5leHBvcnQgY29uc3Qgc2VsZWN0b3JzID0ge1xuICB0ZW1wbGF0ZTogXCIjcmVjdGFuZ2xlLXRlbXBsYXRlXCIsXG4gIHJlY3RhbmdsZTogXCIucmVjdGFuZ2xlXCIsXG4gIGltYWdlOiBcIi5yZWN0YW5nbGVfX2ltYWdlXCIsXG4gIHRleHQ6IFwiLnJlY3RhbmdsZV9fdGV4dFwiLFxuICBidXR0b25MaWtlOiBcIi5yZWN0YW5nbGVfX2J1dHRvblwiLFxuICBidXR0b25UcmFzaDogXCIucmVjdGFuZ2xlX19idXR0b24tdHJhc2hcIixcbiAgcHJvZmlsZVBvcHVwOiBcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiLFxuICBjYXJkUG9wdXA6IFwiLnBvcHVwX3R5cGVfYWRkLWNhcmRcIixcbiAgaW1hZ2VQb3B1cDogXCIucG9wdXBfdHlwZV9vcGVuLWltYWdlXCIsXG59O1xuLy8g0L7QsdGK0Y/QstC70Y/QtdC8INC+0LHRitC10LrRgiDRgdC10LvQtdC60YLQvtGA0L7QsiDQtNC70Y8g0YTQvtGA0LxcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIucG9wdXBfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIucG9wdXBfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5wb3B1cF9fc3VibWl0LWJ0blwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19zdWJtaXQtYnRuX2luYWN0aXZlXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJwb3B1cF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dC1lcnJvcl9hY3RpdmVcIixcbiAgaW5wdXRTcGFuOiBcIi5wb3B1cF9faW5wdXQtZXJyb3JcIixcbn07XG5cbmV4cG9ydCBjb25zdCBwaG90b0dyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBob3RvLWdyaWRcIik7IC8vINC+0LHRjNGP0LLQuNC70Lgg0L/QtdGA0LXQvNC10L3QvdGD0Y4g0YHQv9C40YHQutCwXG4vL9Ce0LHRitGP0LLQu9GP0LXQvCDQv9C10YDQtdC80L3QvdGL0LUg0YTQvtGA0LxcbmV4cG9ydCBjb25zdCBwb3B1cEZvcm1FZGl0UHJvZmlsZSA9IGRvY3VtZW50XG4gIC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9ycy5wcm9maWxlUG9wdXApXG4gIC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19mb3JtXCIpOyAvL9GE0L7RgNC80LAg0J/QoNCe0KTQkNCZ0JvQkFxuZXhwb3J0IGNvbnN0IHBvcHVwRm9ybUFkZENhcmQgPSBkb2N1bWVudFxuICAucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMuY2FyZFBvcHVwKVxuICAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fZm9ybVwiKTsgLy/RhNC+0YDQvNCwINCd0J7QktCe0JPQniDQnNCV0KHQotCQXG4vL9Ce0LHRitGP0LLQu9GP0LXQvCDQv9C10YDQtdC80L3QvdGL0LUg0YEg0YLQtdC60YHRgtC+0LLRi9C8INGB0L7QtNC10YDQttC40LzRi9C8INCf0KDQntCk0JDQmdCb0JBcbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3RpdGxlXCIpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVTdWJ0aXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fc3VidGl0bGVcIik7XG4vL9Ce0LHRitGP0LLQu9GP0LXQvCDQv9C10YDQtdC80L3QvdGL0LUg0LrQvdC+0L/QvtC6XG5leHBvcnQgY29uc3QgYnV0dG9uRWRpZFBvcHVwUHJvZmlsZSA9XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idG5cIik7IC8v0LrQvdC+0L/QutCwINGA0LXQtNCw0LrRgtC+0YDQsCDQn9Cg0J7QpNCQ0JnQm9CQXG5leHBvcnQgY29uc3QgYnV0dG9uQWRkTmV3Q2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ0blwiKTsgLy/QutC90L7Qv9C60LAg0LTQvtCx0LDQstC70LXQvdC40Y8g0J3QntCS0J7Qk9CeINCc0JXQodCi0JBcblxuLy82INC80LXRgdGCINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCLQmtCw0YDQsNGH0LDQtdCy0L4t0KfQtdGA0LrQtdGB0YHQutCw0Y8g0KDQtdGB0L/Rg9Cx0LvQuNC60LBcIixcbiAgICBsaW5rOiBrYXJhY2hheUNoZXJrZXNzaWFJbWFnZSxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JDQuSDQv9C10YLRgNC4XCIsXG4gICAgbGluazogYXlQZXRyaUltYWdlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQqdCy0LXQudGG0LDRgNC40Y9cIixcbiAgICBsaW5rOiBzd2l0emVybGFuZEltYWdlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQk9Cw0LLQsNC4XCIsXG4gICAgbGluazogaGF3YWlJbWFnZSxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwi0JLQtdC70LjQutCw0Y8g0LrQuNGC0LDQudGB0LrQsNGPINGB0YLQtdC90LBcIixcbiAgICBsaW5rOiBjaGluYUltYWdlLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCLQpNGD0LTQt9C4XCIsXG4gICAgbGluazogZnVqaUltYWdlLFxuICB9LFxuXTtcbiIsImltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmltcG9ydCB7IENhcmQgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkXCI7XG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXAuanNcIjtcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5pbXBvcnQgeyBBcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcbmltcG9ydCB7XG4gIGthcmFjaGF5Q2hlcmtlc3NpYUltYWdlLFxuICBheVBldHJpSW1hZ2UsXG4gIHN3aXR6ZXJsYW5kSW1hZ2UsXG4gIGhhd2FpSW1hZ2UsXG4gIGNoaW5hSW1hZ2UsXG4gIGZ1amlJbWFnZSxcbiAgc2VsZWN0b3JzLFxuICBjb25maWcsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGF0bnRzLmpzXCI7XG5cbmltcG9ydCB7XG4gIHBob3RvR3JpZCxcbiAgcG9wdXBGb3JtRWRpdFByb2ZpbGUsXG4gIHBvcHVwRm9ybUFkZENhcmQsXG4gIHByb2ZpbGVUaXRsZSxcbiAgcHJvZmlsZVN1YnRpdGxlLFxuICBidXR0b25FZGlkUG9wdXBQcm9maWxlLFxuICBidXR0b25BZGROZXdDYXJkLFxuICBpbml0aWFsQ2FyZHMsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGF0bnRzLmpzXCI7XG5cbmNvbnN0IGNvbmZpZ0FwaSA9IHtcbiAgdXJsOiBcImh0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jb1wiLFxuICBoZWFkZXJzOiB7XG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcGxpY2F0aW9uL2pzb25cIixcbiAgICBcImF1dGhvcml6YXRpb25cIjogJ2Q5MGUzODExLWJhNmItNGE3Zi05NmE4LTkyNzQ1YWMxZThkYidcbiAgfVxufVxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKGNvbmZpZ0FwaSk7XG5hcGkuZ2V0QWxsQ2FyZHMoKTtcbmFwaS5nZXRJbmZvVXNlcigpO1xuXG5cblxuLy/QrdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwIFBvcHVwV2l0aEltYWdlXG5jb25zdCB6b29tUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoeyBwb3B1cFNlbGVjdG9yOiBzZWxlY3RvcnMuaW1hZ2VQb3B1cCB9KTtcbnpvb21Qb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIHtcbiAgICAgIGRhdGE6IGRhdGEsXG4gICAgICBoYW5kbGVPcGVuUG9wdXA6IChkYXRhKSA9PiB7XG4gICAgICAgIHpvb21Qb3B1cC5vcGVuKGRhdGEpO1xuICAgICAgfSxcbiAgICB9LFxuICAgIHNlbGVjdG9yc1xuICApO1xuICAvLyDQodC+0LfQtNCw0ZHQvCDQutCw0YDRgtC+0YfQutGDINC4INCy0L7Qt9Cy0YDQsNGJ0LDQtdC8INC90LDRgNGD0LbRg1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XG4gIHJldHVybiBjYXJkRWxlbWVudDtcbn1cblxuLy/QvtGC0YDQuNGB0L7QstC60LAgNiDQutCw0YDRgtC+0YfQtdC6INC40Lcg0LzQsNGB0YHQuNCy0LAg0L/QviDRg9C80L7Qu9GH0LDQvdC40Y5cbmNvbnN0IGRlZmF1bHRDYXJkTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcywgLy/QvNCw0YHRgdC40LIsINC60L7RgtC+0YDRi9C5INC/0LXRgNC10LTQsNC10Lwg0LIg0LrQvtC90YHRgtGA0YPQutGC0L7RgFxuICAgIHJlbmRlcmVyOiAoZGF0YSkgPT4ge1xuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGRhdGEpOyAvL9GB0L7RhdGA0LDQvdGP0Y4g0LIg0L/QtdGA0LXQvNC10L3QvdGD0Y4g0YDQtdC30YPQu9GM0YLQsNGCINGB0L7Qt9C00LDQvdC40Y8g0L7QtNC90L7QuSDQutCw0YDRgtGLKi9cbiAgICAgIGRlZmF1bHRDYXJkTGlzdC5hZGRJdGVtKGNhcmRFbGVtZW50KTsgLy/QstGL0LfRi9Cy0LDQtdC8INC80LXRgtC+0LQg0LIg0Y3QutC30LXQvNC/INC60LvQsNGB0YHQsCDQuCDQtNC+0LHQsNCy0LvRj9GOINC60LDRgNGC0YMg0LIg0LrQvtC90LXRhiDRgdC/0LjRgdC60LBcbiAgICB9LFxuICB9LFxuICBwaG90b0dyaWQgLy/RgdC/0LjRgdC+0LosINC60L7RgtC+0YDRi9C5INC/0LXRgNC10LTQsNC10Lwg0LIg0LrQvtC90YHRgtGA0YPQutGC0L7RgFxuKTtcbmRlZmF1bHRDYXJkTGlzdC5yZW5kZXJJdGVtcygpOyAvL9Cy0YvQt9Cy0LDQu9C4INC+0YLRgNC40YHQvtCy0LrRgyDQstGB0LXRhSDQutCw0YDRgtC+0YfQtdC6INC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINC60LvQsNGB0YHQsCBTZWN0aW9uXG5cbi8v0K3QutC30LXQvNC/0LvRj9GA0Ysg0LrQu9Cw0YHRgdCwIEZvcm1WYWxpZGF0b3JcbmNvbnN0IGZvcm1WYWxpZGF0b3JFZGl0UHJvZmlsZSA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICBjb25maWcsXG4gIHBvcHVwRm9ybUVkaXRQcm9maWxlXG4pO1xuZm9ybVZhbGlkYXRvckVkaXRQcm9maWxlLmVuYWJsZVZhbGlkYXRpb24oKTsgLy/QstGL0LfQvtCyINC80LXRgtC+0LTQsCDQstCw0LvQuNC00LDRhtC40Lgg0YTQvtGA0LzRi1xuY29uc3QgZm9ybVZhbGlkYXRvckFkZENhcmQgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHBvcHVwRm9ybUFkZENhcmQpO1xuZm9ybVZhbGlkYXRvckFkZENhcmQuZW5hYmxlVmFsaWRhdGlvbigpOyAvL9Cy0YvQt9C+0LIg0LzQtdGC0L7QtNCwINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvNGLXG5cbmNvbnN0IHVzZXIgPSBuZXcgVXNlckluZm8oe1xuICB1c2VyTmFtZTogcHJvZmlsZVRpdGxlLFxuICB1c2VyRGVzY3JpcHRpb246IHByb2ZpbGVTdWJ0aXRsZSxcbn0pO1xuLy/RjdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwICBQb3B1cFdpdGhGb3JtICDQv9GA0Lgg0YHQsNCx0LzQuNGC0LUg0YTQvtGA0LzRiyDQn9Cg0J7QpNCQ0JnQm9CQXG5jb25zdCBwb3B1cFdpdGhGb3JtUHJvZmlsZSA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB7XG4gICAgcG9wdXBTZWxlY3Rvcjogc2VsZWN0b3JzLnByb2ZpbGVQb3B1cCxcbiAgICBoYW5kbGVTdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgICB1c2VyLnNldFVzZXJJbmZvKGRhdGEpO1xuICAgIH0sIC8v0LzQtdGC0L7QtNGDINC60LvQsNGB0YHQsCBzZXRVc2VySW5mbyAg0L/RgNC40YHQstCw0LXQstCw0LXQvCDQvtCx0YrQtdC60YIg0LfQvdCw0YfQtdC90LjQuSDQuNC90L/Rg9GC0L7QslxuICB9LFxuICBwb3B1cEZvcm1FZGl0UHJvZmlsZVxuKTtcbnBvcHVwV2l0aEZvcm1Qcm9maWxlLnNldEV2ZW50TGlzdGVuZXJzKCk7IC8v0L3QsNCy0LXRiNC40LLQsNC10Lwg0L3QsNCx0L7RgCDRgdC70YPRiNCw0YLQtdC70LXQuSDRgdC+0LHRi9GC0LjQuSzRgdCw0LHQvNC40YJcblxuLy/RjdC60LfQtdC80L/Qu9GP0YAg0LrQu9Cw0YHRgdCwICBQb3B1cFdpdGhGb3JtINC/0YDQuCDRgdCw0LHQvNC40YLQtSDRhNC+0YDQvNGLINCd0J7QktCe0JPQniDQnNCV0KHQotCQXG5jb25zdCBwb3B1cFdpdGhGb3JtTmV3Q2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB7XG4gICAgcG9wdXBTZWxlY3Rvcjogc2VsZWN0b3JzLmNhcmRQb3B1cCxcbiAgICBoYW5kbGVTdWJtaXQ6IChkYXRhKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGNyZWF0ZUNhcmQoe1xuICAgICAgICBsaW5rOiBkYXRhW1wicGxhY2UtaW1hZ2VcIl0sXG4gICAgICAgIG5hbWU6IGRhdGFbXCJwbGFjZS1uYW1lXCJdLFxuICAgICAgfSk7XG4gICAgICBkZWZhdWx0Q2FyZExpc3QucHJlcGVuZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIHBvcHVwRm9ybUFkZENhcmRcbik7XG5wb3B1cFdpdGhGb3JtTmV3Q2FyZC5zZXRFdmVudExpc3RlbmVycygpOyAvL9C90LDQstC10YjQuNCy0LDQtdC8INC90LDQsdC+0YAg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0YHQvtCx0YvRgtC40Lks0YHQsNCx0LzQuNGCXG5cbi8vINCf0YDQuNC60YDQtdC/0LvRj9C10Lwg0YHQu9GD0YjQsNGC0LXQu9GPINC6INC60L3QvtC/0LrQtSDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPINCf0KDQntCk0JDQmdCb0JBcbmJ1dHRvbkVkaWRQb3B1cFByb2ZpbGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgcG9wdXBXaXRoRm9ybVByb2ZpbGUub3BlbigpO1xuICBwb3B1cFdpdGhGb3JtUHJvZmlsZS5zZXRJbnB1dFZhbHVlcyh1c2VyLmdldFVzZXJJbmZvKCkpOyAvL9Cy0LXRgNC90YPQu9C4INC+0LHRitC10LrRgiDRgdC+INC30L3QsNGH0LXQvdC40Y/QvNC4IHRleHRDb250ZW50INGN0LvQtdC80LXQvdGC0L7QsiDQuNC3INC60LvQsNGB0YHQsFxuICBmb3JtVmFsaWRhdG9yRWRpdFByb2ZpbGUucmVzZXRGaWVsZHMoKTsgLy/QstGL0LfRi9Cy0LDQtdC8INC80LXRgtC+0LQg0L7Rh9C40YHRgtC60Lgg0L/QvtC70LXQuSDQvtGCINC+0YjQuNCx0L7QuijRgtC10LrRgdGC0L7QstC+0LUg0L/QvtGP0YHQvdC10L3QuNC1INC4INC60YDQsNGB0L3QvtC1INC/0L7QtNGH0LXRgNC60LjQstCw0L3QuNC1KVxufSk7XG5cbi8vINCf0YDQuNC60YDQtdC/0LvRj9C10Lwg0YHQu9GD0YjQsNGC0LXQu9GPINC6INC60L3QvtC/0LrQtSDQtNC+0LHQsNCy0LvQtdC90LjRjyDQmtCQ0KDQotCe0KfQmtCYINChINCc0JXQodCi0J7QnFxuYnV0dG9uQWRkTmV3Q2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICBwb3B1cFdpdGhGb3JtTmV3Q2FyZC5vcGVuKCk7XG4gIGZvcm1WYWxpZGF0b3JBZGRDYXJkLmRpc2FibGVCdXR0b24oKTsgLy/Qv9C+INGD0LzQvtC70YfQsNC90LjRjiDQutC90L7Qv9C60LAg0YHQsNCx0LzQuNGC0LAg0L7RgtC60LvRjtGH0LXQvdCwXG4gIGZvcm1WYWxpZGF0b3JBZGRDYXJkLnJlc2V0RmllbGRzKCk7IC8v0LLRi9C30YvQstCw0LXQvCDQvNC10YLQvtC0INC+0YfQuNGB0YLQutC4INC/0L7Qu9C10Lkg0L7RgiDQvtGI0LjQsdC+0Loo0YLQtdC60YHRgtC+0LLQvtC1INC/0L7Rj9GB0L3QtdC90LjQtSDQuCDQutGA0LDRgdC90L7QtSDQv9C+0LTRh9C10YDQutC40LLQsNC90LjQtSlcbn0pO1xuIl0sIm5hbWVzIjpbIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibSIsIm8iLCJvYmoiLCJwcm9wIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwicCIsImIiLCJkb2N1bWVudCIsImJhc2VVUkkiLCJzZWxmIiwibG9jYXRpb24iLCJocmVmIiwiQ2FyZCIsInNlbGVjdG9ycyIsImRhdGEiLCJoYW5kbGVPcGVuUG9wdXAiLCJldnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfdmlldyIsInJlbW92ZSIsInRoaXMiLCJfc2VsZWN0b3JzIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2hhbmRsZU9wZW5Qb3B1cCIsIl9kYXRhIiwicXVlcnlTZWxlY3RvciIsInRlbXBsYXRlIiwiY29udGVudCIsInJlY3RhbmdsZSIsImNsb25lTm9kZSIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2UiLCJpbWFnZSIsIl90ZXh0IiwidGV4dCIsIl9idXR0b25MaWtlIiwiYnV0dG9uTGlrZSIsIl9idXR0b25UcmFzaCIsImJ1dHRvblRyYXNoIiwiX3RleHRBbHQiLCJzcmMiLCJ0ZXh0Q29udGVudCIsImFsdCIsIl9zZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlQ2xpY2tMaWtlIiwiX2hhbmRsZUNsaWNrVHJhc2giLCJGb3JtVmFsaWRhdG9yIiwiZm9ybSIsIl9mb3JtIiwiX3N1Ym1pdEJ1dHRvbiIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJhZGQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwic29tZSIsImZvckVhY2giLCJpbnB1dCIsInNldEF0dHJpYnV0ZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaGFzSW52YWxpZElucHV0IiwiZGlzYWJsZUJ1dHRvbiIsInJlbW92ZUF0dHJpYnV0ZSIsIl9jaGVja0ZpZWxkSXNWYWxpZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIlNlY3Rpb24iLCJjb250YWluZXIiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9jb250YWluZXIiLCJfcmVuZGVyZXIiLCJlbGVtZW50IiwiYXBwZW5kIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImtleSIsImNsb3NlIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRUYXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJfaGFuZGxlU3VibWl0IiwiX2Zvcm1WYWx1ZXMiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJQb3B1cFdpdGhJbWFnZSIsIl9wbGFjZUltYWdlIiwiX3BsYWNlQ2FwdGlvbiIsIlVzZXJJbmZvIiwidXNlck5hbWUiLCJ1c2VyRGVzY3JpcHRpb24iLCJfdXNlck5hbWUiLCJfdXNlckRlc2NyaXB0aW9uIiwiam9iIiwiQXBpIiwiY29uZmlnIiwiX3VybCIsInVybCIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJrYXJhY2hheUNoZXJrZXNzaWFJbWFnZSIsIlVSTCIsImF5UGV0cmlJbWFnZSIsInN3aXR6ZXJsYW5kSW1hZ2UiLCJoYXdhaUltYWdlIiwiY2hpbmFJbWFnZSIsImZ1amlJbWFnZSIsInByb2ZpbGVQb3B1cCIsImNhcmRQb3B1cCIsImltYWdlUG9wdXAiLCJmb3JtU2VsZWN0b3IiLCJpbnB1dFNwYW4iLCJwaG90b0dyaWQiLCJwb3B1cEZvcm1FZGl0UHJvZmlsZSIsInBvcHVwRm9ybUFkZENhcmQiLCJwcm9maWxlVGl0bGUiLCJwcm9maWxlU3VidGl0bGUiLCJidXR0b25FZGlkUG9wdXBQcm9maWxlIiwiYnV0dG9uQWRkTmV3Q2FyZCIsImluaXRpYWxDYXJkcyIsImFwaSIsImdldEFsbENhcmRzIiwiZ2V0SW5mb1VzZXIiLCJ6b29tUG9wdXAiLCJjcmVhdGVDYXJkIiwiY2FyZCIsIm9wZW4iLCJnZW5lcmF0ZUNhcmQiLCJzZXRFdmVudExpc3RlbmVycyIsImRlZmF1bHRDYXJkTGlzdCIsImNhcmRFbGVtZW50IiwiYWRkSXRlbSIsInJlbmRlckl0ZW1zIiwiZm9ybVZhbGlkYXRvckVkaXRQcm9maWxlIiwiZW5hYmxlVmFsaWRhdGlvbiIsImZvcm1WYWxpZGF0b3JBZGRDYXJkIiwidXNlciIsInBvcHVwV2l0aEZvcm1Qcm9maWxlIiwic2V0VXNlckluZm8iLCJwb3B1cFdpdGhGb3JtTmV3Q2FyZCIsInByZXBlbmRJdGVtIiwic2V0SW5wdXRWYWx1ZXMiLCJnZXRVc2VySW5mbyIsInJlc2V0RmllbGRzIl0sInNvdXJjZVJvb3QiOiIifQ==